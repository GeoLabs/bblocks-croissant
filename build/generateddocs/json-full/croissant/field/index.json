

{
  "itemIdentifier": "mlc.croissant.field",
  "$schema": "https://raw.githubusercontent.com/opengeospatial/bblocks-postprocess/master/ogc/bblocks/metadata-schema.yaml",
  "name": "Croissant Field",
  "abstract": "Represents a data element (column) within a Croissant RecordSet",
  "description": "## Croissant Field\n\nA Field represents a single data element (column, attribute, or property) within a RecordSet. Fields define the schema of structured data, specify data types, and describe how to extract and transform values from data sources.\n\n### Key Features\n\n- **Typed Data**: Supports both atomic types (Integer, Text) and semantic types (ImageObject, GeoCoordinates)\n- **Data Extraction**: Specifies where field values come from (files, columns, properties)\n- **Transformations**: Can apply regex, parsing, and formatting to source data\n- **Relationships**: Can reference other fields (foreign keys)\n- **Nested Structures**: Supports hierarchical data via subFields\n- **Lists**: Can represent repeated values (arrays)\n\n### Properties\n\n#### Required Properties\n- `@type`: Must be `cr:Field`\n- `@id`: Unique identifier (conventionally prefixed with RecordSet ID)\n\n#### Core Properties\n- `name`: Human-readable field name\n- `description`: What this field represents\n- `dataType`: Type(s) of values (sc:Integer, sc:Text, sc:ImageObject, etc.)\n\n#### Data Properties\n- `source`: Where the data comes from (DataSource or field reference)\n- `references`: Foreign key to another field/RecordSet\n- `repeated`: Boolean indicating if field contains a list\n- `subField`: Nested fields for hierarchical data\n\n### Data Types\n\n#### Atomic Types\nCommon schema.org types:\n- `sc:Boolean` - True/false values\n- `sc:Integer` - Whole numbers\n- `sc:Float` - Decimal numbers\n- `sc:Text` - Text strings\n- `sc:Date` - Dates\n- `sc:DateTime` - Dates with times\n- `sc:URL` - URLs\n\n#### Semantic Types\nML and domain-specific types:\n- `sc:ImageObject` - Image content (pixels)\n- `sc:AudioObject` - Audio content\n- `sc:VideoObject` - Video content\n- `cr:BoundingBox` - Bounding box coordinates\n- `cr:SegmentationMask` - Segmentation masks\n- `cr:Label` - Annotation/label data\n- `sc:GeoCoordinates` - Geographic locations\n\n#### Multiple Types\nFields can have multiple types for richer semantics:\n```json\n{\n  \"@id\": \"passengers/survived\",\n  \"dataType\": [\"sc:Integer\", \"cr:Label\"]\n}\n```\n\n### Common Patterns\n\n#### Simple Column Extraction\n```json\n{\n  \"@type\": \"cr:Field\",\n  \"@id\": \"users/age\",\n  \"dataType\": \"sc:Integer\",\n  \"source\": {\n    \"fileObject\": { \"@id\": \"data.csv\" },\n    \"extract\": { \"column\": \"age\" }\n  }\n}\n```\n\n#### File Property Extraction\n```json\n{\n  \"@type\": \"cr:Field\",\n  \"@id\": \"images/filename\",\n  \"dataType\": \"sc:Text\",\n  \"source\": {\n    \"fileSet\": { \"@id\": \"images\" },\n    \"extract\": { \"fileProperty\": \"filename\" }\n  }\n}\n```\n\n#### With Regex Transformation\n```json\n{\n  \"@type\": \"cr:Field\",\n  \"@id\": \"images/split\",\n  \"dataType\": \"sc:Text\",\n  \"source\": {\n    \"fileSet\": { \"@id\": \"images\" },\n    \"extract\": { \"fileProperty\": \"fullpath\" },\n    \"transform\": { \"regex\": \"^(train|test|val)/\" }\n  }\n}\n```\n\n#### Foreign Key Reference\n```json\n{\n  \"@type\": \"cr:Field\",\n  \"@id\": \"orders/customer_id\",\n  \"dataType\": \"sc:Integer\",\n  \"references\": { \"@id\": \"customers/id\" },\n  \"source\": { ... }\n}\n```\n\n#### Nested Fields\n```json\n{\n  \"@type\": \"cr:Field\",\n  \"@id\": \"locations/coordinates\",\n  \"dataType\": \"sc:GeoCoordinates\",\n  \"subField\": [\n    {\n      \"@type\": \"cr:Field\",\n      \"@id\": \"locations/coordinates/latitude\",\n      \"dataType\": \"sc:Float\"\n    },\n    {\n      \"@type\": \"cr:Field\",\n      \"@id\": \"locations/coordinates/longitude\",\n      \"dataType\": \"sc:Float\"\n    }\n  ]\n}\n```\n\n#### Repeated Field (List)\n```json\n{\n  \"@type\": \"cr:Field\",\n  \"@id\": \"articles/authors\",\n  \"dataType\": \"sc:Text\",\n  \"repeated\": true,\n  \"source\": { ... }\n}\n```\n\n### Data Sources\n\nFields specify their data source through a `source` property, which can be:\n\n1. **Simple reference**: `{ \"@id\": \"other/field\" }`\n2. **DataSource object** with:\n   - `fileObject`, `fileSet`, or `recordSet`: The source\n   - `extract`: How to get the data\n   - `transform`: Optional transformations\n   - `format`: Optional parsing format\n\n#### Extract Methods\n\nFor different source types:\n\n| Source Type | Extract Options |\n|-------------|----------------|\n| CSV/TSV | `column: \"column_name\"` |\n| FileObject/FileSet | `fileProperty: \"fullpath\"/\"filename\"/\"content\"/\"lines\"/\"lineNumbers\"` |\n| JSON | `jsonPath: \"$.path.to.value\"` |\n\n#### Transform Options\n\n- `regex`: Extract using regular expression\n- `delimiter`: Split string into array\n- `jsonQuery`: Query JSON data\n\n#### Format Strings\n\nFor parsing typed values:\n- Dates: `\"yyyy-MM-dd\"`, `\"MM/dd/yyyy\"`\n- Numbers: `\"0.##E0\"` (scientific notation)\n- BoundingBoxes: `\"CENTER_XYWH\"`, `\"XYXY\"`\n\n### Best Practices\n\n1. **Use descriptive IDs**: Prefix with RecordSet ID (e.g., `users/email`)\n2. **Choose precise types**: Select the most specific data type\n3. **Document fields**: Always provide `description`\n4. **Apply semantic types**: Use types like `cr:Label`, `sc:ImageObject` for ML features\n5. **Reference, don't duplicate**: Use `references` for foreign keys\n6. **Keep transformations simple**: Complex logic should be pre-processed\n\n### Advanced Features\n\n#### Field Reference (Join)\nInstead of a DataSource, directly reference another field:\n```json\n{\n  \"@id\": \"ratings/movie_title\",\n  \"source\": { \"@id\": \"movies/title\" }\n}\n```\n\n#### Equivalent Properties\nMap fields to semantic properties:\n```json\n{\n  \"@id\": \"locations/lat\",\n  \"equivalentProperty\": \"sc:latitude\"\n}\n```\n\nThis is used when the RecordSet has a `dataType` with known properties.\n\n### Related Building Blocks\n\n- **RecordSet**: Contains Fields to define record schema\n- **DataSource**: Detailed specification for field sources\n- **FileObject/FileSet**: Source files that fields extract from\n- **Dataset**: Top-level container organizing RecordSets with Fields\n",
  "status": "under-development",
  "dateTimeAddition": "2025-12-16T00:00:00Z",
  "dateOfLastChange": "2025-12-16",
  "version": "1.0",
  "itemClass": "schema",
  "register": "mlc-croissant",
  "dependsOn": [
    "mlc.croissant.datasource"
  ],
  "scope": "dev",
  "tags": [
    "croissant",
    "field",
    "column",
    "schema"
  ],
  "sourceLdContext": "https://geolabs.github.io/bblocks-croissant/_sources/field/context.jsonld",
  "sourceSchema": "https://geolabs.github.io/bblocks-croissant/_sources/field/schema.yaml",
  "sources": [
    {
      "title": "Croissant Format Specification v1.0 - Field",
      "link": "https://docs.mlcommons.org/croissant/docs/croissant-spec.html#field"
    }
  ],
  "maturity": "development",
  "group": "MLCommons",
  "shaclShapes": {},
  "ldContext": "https://geolabs.github.io/bblocks-croissant/build/annotated/croissant/field/context.jsonld",
  "schema": {
    "application/yaml": "https://geolabs.github.io/bblocks-croissant/build/annotated/croissant/field/schema.yaml",
    "application/json": "https://geolabs.github.io/bblocks-croissant/build/annotated/croissant/field/schema.json"
  },
  "sourceFiles": "https://geolabs.github.io/bblocks-croissant/_sources/field/",
  "rdfData": [],
  "validationPassed": true,
  "annotatedSchema": "$schema: https://json-schema.org/draft/2020-12/schema\ntitle: Croissant Field\ndescription: 'A Field is a data element within a RecordSet. It may represent a column\n  of a table,\n\n  a nested data structure, or even a nested RecordSet for hierarchical data.\n\n  '\ntype: object\nrequired:\n- '@type'\n- '@id'\nproperties:\n  '@type':\n    type: string\n    const: cr:Field\n    description: Must be cr:Field\n  '@id':\n    type: string\n    description: 'Unique identifier for this field. Should be prefixed with the RecordSet\n      @id\n\n      (e.g., \"users/email\" for an email field in the users RecordSet)\n\n      '\n  name:\n    type: string\n    description: Human-readable name for this field\n  description:\n    type: string\n    description: Description of what this field represents\n  dataType:\n    description: 'Data type(s) of field values. Can be atomic types (sc:Integer, sc:Text,\n      etc.)\n\n      or semantic types (sc:ImageObject, cr:BoundingBox, etc.).\n\n      Multiple types can be specified for richer semantics.\n\n      '\n    oneOf:\n    - type: string\n      description: Single data type URI\n    - type: array\n      items:\n        type: string\n      description: Multiple data types\n    x-jsonld-id: http://mlcommons.org/croissant/dataType\n    x-jsonld-type: '@vocab'\n  source:\n    description: 'The data source of the field. Can be a reference to another field\n      (@id),\n\n      or omitted if data source is defined elsewhere.\n\n      '\n    type: object\n    required:\n    - '@id'\n    properties:\n      '@id':\n        type: string\n        description: Reference to another field or RecordSet\n    x-jsonld-id: http://mlcommons.org/croissant/source\n  references:\n    type: object\n    required:\n    - '@id'\n    properties:\n      '@id':\n        type: string\n    description: 'Foreign key reference to another field in another RecordSet.\n\n      Similar to foreign keys in relational databases.\n\n      '\n    x-jsonld-id: http://mlcommons.org/croissant/references\n  repeated:\n    type: boolean\n    default: false\n    description: 'If true, this field contains a list of values of the specified dataType,\n\n      rather than a single value.\n\n      '\n    x-jsonld-id: http://mlcommons.org/croissant/repeated\n  equivalentProperty:\n    description: 'Maps this field to a property of the RecordSet''s dataType.\n\n      Used when the field @id doesn''t match the property name.\n\n      '\n    oneOf:\n    - type: string\n      format: uri\n    - type: array\n      items:\n        type: string\n        format: uri\n    x-jsonld-id: http://mlcommons.org/croissant/equivalentProperty\nexamples:\n- title: Simple text field\n  content: A basic field with text data type\n  snippets:\n  - language: json\n    code: \"{\\n  \\\"@type\\\": \\\"cr:Field\\\",\\n  \\\"@id\\\": \\\"users/name\\\",\\n  \\\"name\\\":\n      \\\"name\\\",\\n  \\\"description\\\": \\\"User's full name\\\",\\n  \\\"dataType\\\": \\\"sc:Text\\\"\\n}\\n\"\n- title: Field with foreign key reference\n  content: A field that references another RecordSet\n  snippets:\n  - language: json\n    code: \"{\\n  \\\"@type\\\": \\\"cr:Field\\\",\\n  \\\"@id\\\": \\\"orders/customer_id\\\",\\n  \\\"name\\\":\n      \\\"customer_id\\\",\\n  \\\"dataType\\\": \\\"sc:Integer\\\",\\n  \\\"source\\\": { \\\"@id\\\":\n      \\\"customers/id\\\" },\\n  \\\"references\\\": { \\\"@id\\\": \\\"customers/id\\\" }\\n}\\n\"\n- title: Image content field\n  content: Field containing image data\n  snippets:\n  - language: json\n    code: \"{\\n  \\\"@type\\\": \\\"cr:Field\\\",\\n  \\\"@id\\\": \\\"images/content\\\",\\n  \\\"name\\\":\n      \\\"content\\\",\\n  \\\"description\\\": \\\"The image pixels\\\",\\n  \\\"dataType\\\": \\\"sc:ImageObject\\\"\\n}\\n\"\n- title: Repeated field (list)\n  content: A field containing multiple values\n  snippets:\n  - language: json\n    code: \"{\\n  \\\"@type\\\": \\\"cr:Field\\\",\\n  \\\"@id\\\": \\\"articles/tags\\\",\\n  \\\"name\\\":\n      \\\"tags\\\",\\n  \\\"dataType\\\": \\\"sc:Text\\\",\\n  \\\"repeated\\\": true\\n}\\n\"\nx-jsonld-extra-terms:\n  subField: http://mlcommons.org/croissant/subField\n  parentField: http://mlcommons.org/croissant/parentField\nx-jsonld-vocab: https://schema.org/\nx-jsonld-prefixes:\n  cr: http://mlcommons.org/croissant/\n",
  "gitRepository": "https://github.com/GeoLabs/bblocks-croissant",
  "gitPath": "_sources/field"
}