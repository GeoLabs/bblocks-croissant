

{
  "itemIdentifier": "mlc.croissant.fileset",
  "$schema": "https://raw.githubusercontent.com/opengeospatial/bblocks-postprocess/master/ogc/bblocks/metadata-schema.yaml",
  "name": "Croissant FileSet",
  "abstract": "Represents a collection of homogeneous files in a Croissant dataset",
  "description": "## Croissant FileSet\n\nA FileSet describes collections of homogeneous files in a dataset, such as images, videos, or text files, where each file is treated as an individual data item (e.g., as a training example).\n\n### Key Features\n\n- **Glob Patterns**: Flexible file selection using industry-standard glob syntax\n- **Multiple Sources**: Can combine files from multiple archives\n- **Inclusion/Exclusion**: Fine-grained control over which files are included\n- **Homogeneous Collections**: All files in a FileSet share the same encoding format\n\n### Properties\n\n#### Required Properties\n- `@type`: Must be `cr:FileSet`\n- `@id`: Unique identifier within the dataset\n- `containedIn`: Reference to one or more FileObject containers (e.g., archives)\n\n#### Core Properties\n- `includes`: Glob pattern(s) for files to include\n- `excludes`: Glob pattern(s) for files to exclude\n- `encodingFormat`: MIME type shared by all files in the set\n\n### Glob Pattern Syntax\n\nFileSet uses standard glob patterns for file matching:\n\n| Pattern | Matches | Example |\n|---------|---------|---------|\n| `*.jpg` | All JPG files in root | `image.jpg`, `photo.jpg` |\n| `**/*.png` | All PNG files recursively | `dir/sub/image.png` |\n| `train/*.jpg` | JPG files in train/ | `train/img1.jpg` |\n| `img_[0-9].jpg` | Numbered images | `img_1.jpg`, `img_5.jpg` |\n\n### Usage Patterns\n\n#### Image Collections\nCommon in computer vision datasets:\n```json\n{\n  \"@type\": \"cr:FileSet\",\n  \"@id\": \"training-images\",\n  \"containedIn\": { \"@id\": \"train2014.zip\" },\n  \"encodingFormat\": \"image/jpeg\",\n  \"includes\": \"train2014/*.jpg\"\n}\n```\n\n#### Multi-Directory Selection\nSelect files from multiple subdirectories:\n```json\n{\n  \"@type\": \"cr:FileSet\",\n  \"@id\": \"all-languages\",\n  \"containedIn\": { \"@id\": \"multilingual-corpus\" },\n  \"encodingFormat\": \"text/plain\",\n  \"includes\": [\"en/**/*.txt\", \"fr/**/*.txt\", \"de/**/*.txt\"]\n}\n```\n\n#### Exclusion Patterns\nExclude specific files or directories:\n```json\n{\n  \"@type\": \"cr:FileSet\",\n  \"@id\": \"production-data\",\n  \"containedIn\": { \"@id\": \"dataset\" },\n  \"includes\": \"**/*.json\",\n  \"excludes\": [\"**/test/**\", \"**/debug/**\"]\n}\n```\n\n#### Union of Multiple Archives\nCombine files from several archives:\n```json\n{\n  \"@type\": \"cr:FileSet\",\n  \"@id\": \"complete-dataset\",\n  \"containedIn\": [\n    { \"@id\": \"part1.tar\" },\n    { \"@id\": \"part2.tar\" },\n    { \"@id\": \"part3.tar\" }\n  ],\n  \"includes\": \"*.csv\"\n}\n```\n\n### Pattern Evaluation\n\nThe FileSet evaluation process:\n\n1. **Apply includes**: Evaluate all `includes` patterns and take their union\n2. **Apply excludes**: Remove files matching any `excludes` pattern\n3. **Result**: Final set of FileObjects in the FileSet\n\n**Note**: Patterns are evaluated from the root of the `containedIn` archive/directory.\n\n### Best Practices\n\n1. **Be specific with patterns**: Use precise patterns to avoid unintended matches\n2. **Document expectations**: Use `description` to clarify what files should be included\n3. **Test patterns locally**: Verify glob patterns match expected files before publishing\n4. **Consistent encodingFormat**: Ensure all matched files share the same format\n5. **Order matters**: Remember that excludes are applied after includes\n\n### Common Use Cases\n\n- **Image datasets**: Collections of photos, training images, or visualizations\n- **Text corpora**: Documents, articles, or transcripts organized in directories\n- **Audio/video collections**: Media files for multimedia ML tasks\n- **Split-based datasets**: Using patterns to separate train/val/test files\n\n### Related Building Blocks\n\n- **FileObject**: Individual file; FileSet containers reference FileObjects\n- **Dataset**: Uses FileSets in its `distribution` property\n- **RecordSet**: Fields can extract data from FileSets\n- **Field/DataSource**: References FileSet to extract field values\n",
  "status": "under-development",
  "dateTimeAddition": "2025-12-16T00:00:00Z",
  "dateOfLastChange": "2025-12-16",
  "version": "1.0",
  "itemClass": "schema",
  "register": "mlc-croissant",
  "dependsOn": [
    "mlc.croissant.fileobject"
  ],
  "scope": "dev",
  "tags": [
    "croissant",
    "file collection",
    "glob pattern",
    "distribution"
  ],
  "sourceLdContext": "https://geolabs.github.io/bblocks-croissant/_sources/fileset/context.jsonld",
  "sourceSchema": "https://geolabs.github.io/bblocks-croissant/_sources/fileset/schema.yaml",
  "sources": [
    {
      "title": "Croissant Format Specification v1.0 - FileSet",
      "link": "https://docs.mlcommons.org/croissant/docs/croissant-spec.html#fileset"
    }
  ],
  "maturity": "development",
  "group": "MLCommons",
  "shaclShapes": {},
  "ldContext": "https://geolabs.github.io/bblocks-croissant/build/annotated/croissant/fileset/context.jsonld",
  "schema": {
    "application/yaml": "https://geolabs.github.io/bblocks-croissant/build/annotated/croissant/fileset/schema.yaml",
    "application/json": "https://geolabs.github.io/bblocks-croissant/build/annotated/croissant/fileset/schema.json"
  },
  "sourceFiles": "https://geolabs.github.io/bblocks-croissant/_sources/fileset/",
  "rdfData": [],
  "validationPassed": true,
  "annotatedSchema": "$schema: https://json-schema.org/draft/2020-12/schema\ntitle: Croissant FileSet\ndescription: 'Represents a collection of homogeneous files (e.g., images, videos,\n  text files)\n\n  where each file is treated as an individual item. Supports glob patterns for\n\n  inclusion/exclusion of files.\n\n  '\ntype: object\nrequired:\n- '@type'\n- '@id'\n- containedIn\nproperties:\n  '@type':\n    type: string\n    const: cr:FileSet\n    description: Must be cr:FileSet\n  '@id':\n    type: string\n    description: Unique identifier for this FileSet within the dataset\n  name:\n    type: string\n    description: Human-readable name for this file collection\n  description:\n    type: string\n    description: Description of the file collection\n  containedIn:\n    description: 'The source of data for the FileSet (e.g., an archive FileObject).\n\n      If multiple values are provided, the union of their contents is taken.\n\n      '\n    oneOf:\n    - type: object\n      required:\n      - '@id'\n      properties:\n        '@id':\n          type: string\n          description: Reference to a FileObject containing these files\n    - type: array\n      items:\n        type: object\n        required:\n        - '@id'\n        properties:\n          '@id':\n            type: string\n    x-jsonld-id: http://mlcommons.org/croissant/containedIn\n  includes:\n    description: 'Glob pattern(s) that specify the files to include. Multiple includes\n      are\n\n      combined with union. Patterns are evaluated from the root of the containedIn\n      contents.\n\n      '\n    oneOf:\n    - type: string\n      description: Single glob pattern (e.g., \"*.jpg\", \"images/**/*.png\")\n    - type: array\n      items:\n        type: string\n      description: Multiple glob patterns\n    x-jsonld-id: http://mlcommons.org/croissant/includes\n  excludes:\n    description: 'Glob pattern(s) that specify files to exclude. Applied after includes.\n\n      Multiple excludes are combined with union.\n\n      '\n    oneOf:\n    - type: string\n      description: Single glob pattern\n    - type: array\n      items:\n        type: string\n      description: Multiple glob patterns\n    x-jsonld-id: http://mlcommons.org/croissant/excludes\n  encodingFormat:\n    type: string\n    description: MIME type of the files in this set (e.g., \"image/jpeg\", \"text/plain\")\n    x-jsonld-id: sc:encodingFormat\nexamples:\n- title: JPEG images in a zip archive\n  content: All JPEG images contained in a zip file\n  snippets:\n  - language: json\n    code: \"{\\n  \\\"@type\\\": \\\"cr:FileSet\\\",\\n  \\\"@id\\\": \\\"image-files\\\",\\n  \\\"name\\\":\n      \\\"Training images\\\",\\n  \\\"containedIn\\\": { \\\"@id\\\": \\\"train-archive.zip\\\" },\\n\n      \\ \\\"encodingFormat\\\": \\\"image/jpeg\\\",\\n  \\\"includes\\\": \\\"*.jpg\\\"\\n}\\n\"\n- title: Images in specific subdirectories\n  content: Using patterns to select images from multiple directories\n  snippets:\n  - language: json\n    code: \"{\\n  \\\"@type\\\": \\\"cr:FileSet\\\",\\n  \\\"@id\\\": \\\"train-images\\\",\\n  \\\"name\\\":\n      \\\"Training set images\\\",\\n  \\\"containedIn\\\": { \\\"@id\\\": \\\"dataset-archive\\\"\n      },\\n  \\\"encodingFormat\\\": \\\"image/png\\\",\\n  \\\"includes\\\": [\\\"train/**/*.png\\\",\n      \\\"validation/**/*.png\\\"]\\n}\\n\"\n- title: Files with exclusion patterns\n  content: Including all text files except test files\n  snippets:\n  - language: json\n    code: \"{\\n  \\\"@type\\\": \\\"cr:FileSet\\\",\\n  \\\"@id\\\": \\\"text-corpus\\\",\\n  \\\"name\\\":\n      \\\"Text corpus (excluding tests)\\\",\\n  \\\"containedIn\\\": { \\\"@id\\\": \\\"corpus-archive\\\"\n      },\\n  \\\"encodingFormat\\\": \\\"text/plain\\\",\\n  \\\"includes\\\": \\\"**/*.txt\\\",\\n  \\\"excludes\\\":\n      \\\"**/test/**\\\"\\n}\\n\"\n- title: Multiple source archives\n  content: Combining files from multiple archives\n  snippets:\n  - language: json\n    code: \"{\\n  \\\"@type\\\": \\\"cr:FileSet\\\",\\n  \\\"@id\\\": \\\"all-images\\\",\\n  \\\"name\\\":\n      \\\"All dataset images\\\",\\n  \\\"containedIn\\\": [\\n    { \\\"@id\\\": \\\"part1.zip\\\"\n      },\\n    { \\\"@id\\\": \\\"part2.zip\\\" }\\n  ],\\n  \\\"encodingFormat\\\": \\\"image/jpeg\\\",\\n\n      \\ \\\"includes\\\": \\\"*.jpg\\\"\\n}\\n\"\nx-jsonld-vocab: https://schema.org/\nx-jsonld-prefixes:\n  cr: http://mlcommons.org/croissant/\n",
  "gitRepository": "https://github.com/GeoLabs/bblocks-croissant",
  "gitPath": "_sources/fileset"
}